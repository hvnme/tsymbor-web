import { Dialog, DialogContent, DialogHeader } from "@/components/ui/dialog";
import { useTelegram } from "@/hooks/useTelegram";

interface RulesDialogProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
}

export function RulesDialog({ open, onOpenChange }: RulesDialogProps) {
  const { webApp } = useTelegram();

  const handleClose = () => {
    webApp?.HapticFeedback?.impactOccurred("light");
    onOpenChange(false);
  };
  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className=" bg-black/10 backdrop-blur-md border border-white/12 shadow-xl max-h-[75vh] overflow-y-auto">
        <DialogHeader>
          <h2 className="font-bold text-lg text-white mb-2">
            ОФІЦІЙНІ ПРАВИЛА ПРОГРАМИ ЛОЯЛЬНОСТІ ЦІМБОР
          </h2>
        </DialogHeader>
        <div className="space-y-4 text-white/90 text-xs leading-relaxed pb-16">
          <div className="text-center mb-6">
            <p className="text-xs text-white/70">
              Ці Правила визначають умови участі у програмі лояльності
              торговельних мереж Зіна, Кефір та 1 MINUTE, яка проводиться на
              території України в мережах Зіна, Кефір та 1 MINUTE,
              Інтернет-магазині (сайт) за адресою в мережі Інтернет –
              https://zina24.com і має єдину назву Програма лояльності Цімбор
              (далі – місце проведення Програми).
            </p>
          </div>

          <div className="space-y-2">
            <h3 className="font-semibold text-sm text-white">
              1. ВИЗНАЧЕННЯ ТЕРМІНІВ
            </h3>
            <p>
              <strong>1.1.</strong> Програма лояльності Цімбор (далі за текстом
              – Програма т/або ПЛ) – це комплекс цивільно-правових відносин між
              торговими мережами Зіна, Кефір та 1 MINUTE (далі Організатором) і
              Учасником програми (далі Учасник), в результаті яких, останні
              отримують винагороду у вигляді накопичених бонусів, які Учасник
              може використовувати в якості знижки за товари у встановлених
              законодавством межах в будь-якому магазині торгових мереж Зіна,
              Кефір та 1 MINUTE.
            </p>
            <p>
              <strong>1.2.</strong> Правила Програми – всі пункти, прописані в
              даному документі, що становлять собою умови акції (Програми).
            </p>
            <p>
              <strong>1.3.</strong> Учасник програми (Учасник) – фізична особа,
              яка досягла чотирнадцятирічного віку і підтвердила свій намір
              брати участь у ПЛ (акцептувала публічну оферту), виконавши вимоги
              щодо вступу в ПЛ, викладені в цих правилах ПЛ.Оператор
              (організатор) – ТОВ «БАЗА» юридична особа, яка є організатором
              Програми і володіє винятковими правами оголошення, проведення,
              зміни та припинення Програми, і її уповноважені представники.
            </p>
            <p>
              <strong>1.4.</strong> Користувач Сайту - будь-яка фізична або
              юридична особа, відвідувач сайту, що приймає всі умови цих Правил.
            </p>
            <p>
              <strong>1.5.</strong> Сайт - сайт Оператора (організатора) -
              Товариства з обмеженою відповідальністю «БАЗА», розміщений в
              мережі Інтернет за адресою – https://zina24.com
            </p>
            <p>
              <strong>1.6.</strong> Картка – віртуальна (без додаткового
              пластикового носія) Картка, яка видається Учасникові на умовах
              цієї Програми після заповнення Анкети та яка має унікальний у
              рамках Програми номер, необхідний для ідентифікації Учасника.
            </p>
            <p>
              <strong>1.7.</strong> Бонуси - умовні одиниці, що нараховуються на
              Рахунок Учасника при здійсненні ним купівлі товарів, які
              реалізуються у рамках Програми, а також за виконання певних дій у
              рамках спеціальних пропозицій і акцій Програми.
            </p>
            <p>
              <strong>1.8.</strong> Рахунок Учасника («Рахунок у Програмі»,
              «Бонусний рахунок») – сукупність різних даних у базі даних
              Оператора, що містять інформацію про Учасника та його поточний
              баланс Балів.
            </p>
            <p>
              <strong>1.9.</strong> Інформаційний центр Програми – основні
              засоби інформаційної підтримки Учасників: чат бот «Цімбор» в
              месенджері Telegram.
            </p>
          </div>

          <div className="space-y-2">
            <h3 className="font-semibold text-sm text-white">
              2. УМОВИ УЧАСТІ ТА РЕЄСТРАЦІЯ У ПРОГРАМІ
            </h3>
            <p>
              <strong>2.</strong> Для прийняття участі в бонусній програмі,
              учасник повинен пройти:
            </p>
            <p>
              <strong>2.1.</strong> Реєстрацію одним з перерахованих варіантів:
              − по номеру телефону; − у чат-боті «Цімбор» в Telegram.
            </p>
            <p>
              <strong>2.2.</strong> Учасник при реєстрації обов'язково вказує
              дату народження, контактний номер телефону та інші данні, надання
              яких вимагається Правилами.
            </p>
            <p>
              <strong>2.3.</strong> Зареєструвавшись, Учасник підтверджує, що
              він ознайомився та погодився з цими Правилами участі в Програмі та
              зобов'язується їх виконувати.
            </p>
            <p>
              <strong>2.4.</strong> Після підтвердження реєстрації Учасник є
              власником віртуальної картки лояльності у Зіна, Кефір та 1 MINUTE.
            </p>
            <p>
              <strong>2.5.</strong> Кожен Учасник Програми може зареєструвати на
              своє ім'я лише одну Картку на один контактний номер телефону.
            </p>
            <p>
              <strong>2.6.</strong> Після авторизації учасник отримує можливість
              отримувати винагороду у вигляді бонусів на свій бонусний рахунок і
              розраховуватися бонусами за покупку товарів.
            </p>
            <p>
              <strong>2.7.</strong> Для того, щоб учасник міг отримувати бонуси
              за покупки, при розрахунку в торговій мережі Зіна, Кефір та 1
              MINUTE він повинен ідентифікувати себе як учасник програми з одним
              із запропонованих способів, зазначених у пункті 2.1. цих Правил.
            </p>
            <p>
              <strong>2.8.</strong> Використовувати бонуси можна у будь-який час
              їх дії
            </p>
            <p>
              <strong>2.9.</strong> Щомісяця відсоток, одержуваний від суми
              чека, Оператор може змінювати залежно від суми покупок за
              попередній місяць.
            </p>
            <p>
              <strong>2.10.</strong> За покупки в певні дні (святкові), певний
              товар або на певних торгових точках сума бонусів може бути
              змінена.
            </p>
            <p>
              <strong>2.11.</strong> Організатор залишає за собою право не
              нарахування бонусів за певні товарні одиниці: наприклад акційні
              товари, що реалізуються по зниженій вартості.
            </p>
            <p>
              <strong>2.12.</strong> Карти в електронному варіанті дають
              можливість завжди мати доступ до них.
            </p>
            <p>
              <strong>2.13.</strong> Для отримання доступу до повного
              функціонала можливостей програми лояльності (накопичення та
              списання), діючим клієнтам буде необхідно пройти процедуру
              авторизації.
            </p>
          </div>

          <div className="space-y-2">
            <h3 className="font-semibold text-sm text-white">
              3. УЧАСНИК ПРОГРАМИ ТА АНКЕТА
            </h3>
            <p>
              <strong>3.1.</strong> Заповнюючи персональні дані Учасника
              програми - фізична особа надає особисту інформацію для реєстрації
              в інформаційній електронній системі програми.
            </p>
            <p>
              <strong>3.2.</strong> Надання достовірних даних Учасника
              Організатору є обов'язковою умовою повноправної участі в програмі.
            </p>
            <p>
              <strong>3.3.</strong> Заповнені персональні дані Учасника,
              підтверджують його бажання взяти участь у програмі та свідчать про
              його обізнаність і згоду з усіма умовами і правилами.
            </p>
            <p>
              <strong>3.4.</strong> Анкета не містить ідентифікаційних даних
              фізичної особи, в тому числі номерів паспорта та ідентифікаційного
              коду. Організатор зобов'язується належним чином збирати, зберігати
              та обробляти персональні дані учасників програми, використовувати
              їх в рамках програми, а також не поширювати і не надавати їх
              третім особам без згоди учасника.
            </p>
            <p>
              <strong>3.5.</strong> Дані Учасника, зазначені в Анкеті, є
              конфіденційними. Доступ до даних мають відповідальні особи
              Організатора і сам Учасник (зареєструвавшись в персональному
              кабінеті доступними способами).
            </p>
            <p>
              <strong>3.6.</strong> Учасник надає Організатору право повідомляти
              йому будь-яку інформацію комерційного та/або інформаційного
              характеру про програму поштою, електронною поштою, месенджерами,
              за телефоном або SMS.
            </p>
            <p>
              <strong>3.7.</strong> Учасник може в будь-який момент відмовитися
              отримувати інформацію по вищевказаними комунікаційними каналами,
              повідомивши про це організатора по телефону гарячої лінії або
              вказавши це в своєму профілі особистого кабінету.
            </p>
          </div>

          <div className="space-y-2">
            <h3 className="font-semibold text-sm text-white">
              4. ОСОБЛИВОСТІ ПРОГРАМИ
            </h3>
            <p>
              <strong>4.1. ПОРЯДОК НАРАХУВАННЯ БОНУСІВ</strong>
            </p>
            <p>
              <strong>4.1.1.</strong> За покупки у мережах Зіна, Кефір та 1
              MINUTE, Учаснику нараховується винагорода у вигляді бонусів на
              особистий рахунок.
            </p>
            <p>
              <strong>4.1.2.</strong> Бонусами Учасник може розраховуватися за
              покупки, зробленi в магазинах Зіна, Кефір та 1 MINUTE.
            </p>
            <p>
              <strong>4.1.3.</strong> Сума бонусів відповідає 0,5% від суми
              покупки в чеку і більше, залежно від статусу учасника, суми
              покупок за попередній місяць і різних умов які Організатор в праві
              самостійно встановлювати.
            </p>
            <p>
              <strong>4.1.4.</strong> Бонуси і права, надані учаснику, не можуть
              бути продані, передані, відступлені третій особі або використані,
              крім як відповідно зі справжніми правилами ПЛ. Карта є
              персональною і є власністю оператора.
            </p>
          </div>

          <div className="space-y-2">
            <h3 className="font-semibold text-sm text-white">
              5. ПРАВА ОПЕРАТОРА ПРОГРАМИ
            </h3>
            <p>
              <strong>5.1.</strong> В чат-боті «Цімбор» in Telegram оператор
              розміщує найбільш повну інформацію про Програму лояльності з
              урахуванням останніх оновлень, змін і доповнень, особистий кабінет
              учасника. Зазначена інформація може надаватися оператором учаснику
              ПЛ іншими засобам зв'язку.
            </p>
            <p>
              <strong>5.2.</strong> Організатор залишає за собою право змінювати
              умови програми. Попереднє повідомлення учасників програми про
              зміни умов - не обов'язково. Зміни вступають в силу з моменту
              опублікування змінених умов програми на офіційному сайті
              Організатора та в чат-боті. Учасник програми, який продовжує
              використання Картки після опублікування змін, вважається
              ознайомленим та згодним виконувати внесені зміни в умови програми.
            </p>
            <p>
              <strong>5.3.</strong> Організатор має право припинити дію картки
              Учасника при наступних обставинах: − використання або спроби
              використання карток способом, який не відповідає умовам і
              Правилам; − у випадках зловживання з боку Учасника щодо його
              участі в програмі; − якщо Учасник програми надав неповну або
              недостовірну інформацію, вчинив шахрайські дії; − невикористання
              картки протягом 365 календарних днів з останньої покупки. Рішення
              в такому разі приймається Організатором самостійно.
            </p>
            <p>
              <strong>5.4.</strong> Організатор не несе відповідальності за
              будь-які втрати або збитки, що виникають в результаті дій
              сторонніх осіб. Відповідальність за збереження доступу до бонусної
              системи і за несанкціоноване використання сторонніми особами лягає
              на самого учасника. Організатор не несе відповідальності за
              несанкціоноване використання Картки.
            </p>
            <p>
              <strong>5.5.</strong> Роз'яснення всіх суперечливих моментів з
              приводу нарахування або списання бонусів, приймаються за останні
              30 днів до звернення. Для цього потрібно залишити звернення з
              описом проблеми, зателефонувавши на номег гарячої лінії
              +380507247247, повідомивши дані учасника програми та деталі
              ситуації. Після розгляду звернення, з Учасником зв'яжеться
              менеджер Організатора для вирішення цього питання.
            </p>
          </div>

          <div className="space-y-2">
            <h3 className="font-semibold text-sm text-white">
              6. ПЕРСОНАЛЬНІ ДАНІ УЧАСНИКА
            </h3>
            <p>
              <strong>6.1.</strong> Персональні дані збираються і обробляються з
              метою надання Учасникам доступу до ПЛ, обробки Замовлень та
              покупок Учасників, здійснення взаєморозрахунків між Сторонами,
              інформування (у тому числі рекламними матеріалами), а також інших
              дій, пов'язаних з такими цілями.
            </p>
            <p>
              <strong>6.2.</strong> Дозвіл на обробку персональних даних діє
              протягом усього терміну дії Договору, а також протягом
              необмеженого терміну після закінчення його дії. Крім цього,
              Учасник підтверджує, що він повідомлений (без додаткового
              повідомлення) про права, встановлених Законом України «Про захист
              персональних даних», про цілі збору даних, а також про те, що його
              персональні дані передаються Оператору з метою, визначеною у цієї
              Програмі, а також з метою виконання умов цієї Програми, можливості
              проведення взаєморозрахунків, нарахування та списання бонусів.
            </p>
            <p>
              <strong>6.3.</strong> Учасник також погоджується з тим, що
              Оператор має право надавати доступ та передавати, його персональні
              дані третім особам, які приймають пряму чи опосередковану участь у
              виконанні Програми, підрядникам Оператора, субпідрядникам
              Оператора, телекомунікаційному провайдеру, без будь-яких
              додаткових повідомлень Учасника, не змінюючи при цьому мету
              обробки персональних даних. Обсяг прав Учасника, як суб'єкта
              персональних даних відповідно до Закону України «Про захист
              персональних даних» йому відомий і зрозумілий.
            </p>
            <p>
              <strong>6.4.</strong> Також, особисті дані Учасника можуть бути
              передані третім особам в рамках здійснення господарської
              діяльності Оператора, при проведенні перевірок державних органів,
              аудиторських служб, юридичних радників, запитів державних органів,
              слідчих органів, на підставі судових рішень та в інших випадках,
              визначених чинним законодавством України.
            </p>
            <p>
              <strong>6.5.</strong> Учасник погоджується з тим, що Оператор має
              право на відправлення рекламних повідомлень, просування Товару,
              інформаційних матеріалів щодо Товарів, іншої інформації будь-якими
              доступними засобами зв'язку, в т.ч. інформацію щодо послуг
              Оператора.
            </p>
            <p>
              <strong>6.6.</strong> Оператор не збирає особисті дані
              неповнолітніх осіб. У разі, якщо Оператору стане відомо про
              надання неповнолітньою особою особистих даних без згоди батьків,
              такі особисті дані будуть видалені з бази персональних даних
              Оператора.
            </p>
            <p>
              <strong>6.7.</strong> У випадку небажання отримувати будь-яку
              розсилку, Учасник має право звернутися до Оператора, написавши
              заяву про відмову від отримання рекламних матеріалів, надіславши
              його на поштову або електронну адресу.
            </p>
          </div>

          <div className="space-y-2">
            <h3 className="font-semibold text-sm text-white">
              7. СТРОК ДІЇ БОНУСІВ
            </h3>
            <p>
              <strong>7.1.</strong> Накопичені бонуси діють протягом 180 днів з
              моменту останньої покупки.
            </p>
            <p>
              <strong>7.2.</strong> Після закінчення строку дії бонусів вони
              втрачають свою силу і не підлягають будь-якому подальшому
              використанню.
            </p>
            <p>
              <strong>7.3.</strong> Строк дії балів може бути припинений
              достроково у разі завершення Програми з ініціативи Організатора.
            </p>
          </div>

          <div className="space-y-2">
            <h3 className="font-semibold text-sm text-white">
              8. ВИКОРИСТАННЯ БАЛІВ
            </h3>
            <p>
              <strong>8.1.</strong> Учасник має право використовувати Бали, які
              є на його Рахунку, як економію при купівлі будь-яких товарів у
              Місцях проведення Програми та протягом строку дії балів.
            </p>
            <p>
              <strong>8.2.</strong> Використання (списання) Балів з Рахунку
              Учасника здійснюється із розрахунків 1 Бал = 1 копійка економії
              при купівлі товару.
            </p>
            <p>
              <strong>8.3.</strong> Використання Балів Учасником можливо тільки
              у випадку, якщо Картка Учасника активована.
            </p>
            <p>
              <strong>8.4.</strong> При поверненні товару, за який Учаснику вже
              нараховані бонуси, сума повернення буде перерахована за
              вирахуванням бонусів.
            </p>
            <p>
              <strong>8.5.</strong> Кількість балів, яка може бути списана за
              одним чеком, встановлюється залежно від наявної кількості балів на
              рахунку Учасника та загальної вартості товару в чеку. При цьому
              сума бонусів, що списується, не може перевищувати 20% від суми
              чека, а сума покупки після урахування всіх економій (в тому числі
              і по використанню балів) повинна становити не менше 80% від
              загальної вартості товару.
            </p>
            <p>
              <strong>8.6.</strong> Виконавець залишає за собою право обмежувати
              перелік товару, при придбанні якого Учасник може накопичувати
              та/або використовувати Бали.
            </p>
            <p>
              <strong>8.7.</strong> Якщо з технічних причин бонусна програма
              тимчасово не працює, то використання бонусної програми буде
              неможливо, до тих пір, поки програма знову не запрацює.
            </p>
            <p>
              <strong>8.8.</strong> Якщо Учасник бажає змінити номер телефону
              вже зареєстрований у бонусній програмі, йому необхідно пройти
              реєстрацію нового номера в чат-боті «Цімбор» в месенджері
              Telegram.
            </p>
            <p>
              <strong>8.9.</strong> Бали не є платіжним засобом, не мають
              готівкового вираження, не дають права на одержання їх у грошовому
              еквіваленті та не підлягають поверненню.
            </p>
          </div>

          <div className="space-y-2">
            <h3 className="font-semibold text-sm text-white">
              9. ІНФОРМАЦІЙНА ПІДТРИМКА УЧАСНИКА
            </h3>
            <p>
              <strong>9.1.</strong> Беручи участь у Програмі, Учасник дає згоду
              на подальше отримання на його номер телефону та/або на адресу
              електронної пошти, що зазначені в Анкеті, та/або у чат-бот
              «Цімбор» в месенджері Тelegram новин та інших інформаційних та
              рекламних повідомлень від Виконавця.
            </p>
            <p>
              <strong>9.2.</strong> Учасник може дізнатися про перелік Місць
              проведення Програми та про умови спеціальних пропозицій, доступних
              тільки для Учасників Програми, за допомогою Інформаційного центру
              Програми.
            </p>
            <p>
              <strong>9.3.</strong> Учасник має можливість перевірити суму
              накопичених на Рахунку Балів і термін їх дії, у чат-боті «Цімбор»
              in Telegram.
            </p>
            <p>
              <strong>9.4.</strong> Виконавець не несе відповідальність за
              відсутність можливості контакту з Учасником, якщо контактні дані
              Учасника вказані неправильно або на момент контакту змінилися.
              Учасники несуть особисту відповідальність за достовірність наданої
              ними у Анкеті контактної інформації.
            </p>
          </div>

          <div className="space-y-2">
            <h3 className="font-semibold text-sm text-white">10. ІНШІ УМОВИ</h3>
            <p>
              <strong>10.1.</strong> Оператор залишає за собою право в
              односторонньому порядку вносити зміни в цю Програму з розміщенням
              її у оновленій редакції на сайті Оператора.
            </p>
            <p>
              <strong>10.2.</strong> Програма у своїй останній редакції набуває
              чинності з моменту Опублікування Оператором у відповіднйі редакції
              в чат-боті «Цімбор» і діє до моменту відкликання її Оператором.
            </p>
            <p>
              <strong>10.3.</strong> Усі питання, неврегульовані Правилами,
              регламентуються чинним законодавством України.
            </p>
            <p>
              <strong>10.4.</strong> Учасник несе відповідальність за
              достовірність вказаної при оформленні замовлення інформації.
            </p>
            <p>
              <strong>10.5.</strong> Використання ресурсу Інтернет – сайту,
              магазину для перегляду товару, а також для оформлення замовлення,
              чат ботів, месенджерів є для Учасника безоплатним.
            </p>
          </div>

          <div className="bg-orange-500/10 border border-orange-500/20 rounded-lg p-3 mt-4">
            <p className="text-xs text-orange-200">
              💡 <strong>Важливо:</strong> Завжди пред'являйте штрих-код або
              номер телефону перед оплатою для нарахування бонусів!
            </p>
          </div>
        </div>

        {/* Fixed Close Button */}
        <div className="sticky bottom-0 left-0 right-0 ">
          <button
            onClick={handleClose}
            className="w-full py-3 px-2 bg-orange-500/100 backdrop-blur-md border border-white/12 rounded-lg text-white font-semibold text-sm"
          >
            Закрити
          </button>
        </div>
      </DialogContent>
    </Dialog>
  );
}
